<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>muckiglück – Geborgen wachsen, begleitet mit Herz</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&family=Comfortaa:wght@300..700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        .welcome-message { text-align: center; margin-top: 20px; font-size: 1.2em; color: #555; }
        .logout-container { text-align: center; margin-top: 20px; }
        .logout-button { background-color: #e74c3c; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-size: 1em; transition: background-color 0.3s ease; }
        .logout-button:hover { background-color: #c0392b; }
        /* Styling for form status messages */
        .form-status { text-align: center; margin-top: 15px; font-weight: bold; }
        .form-status.success { color: #2ecc71; }
        .form-status.error { color: #e74c3c; }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="logo-slogan">
                <h1>muckiglück</h1>
                <p>Geborgen wachsen – begleitet mit Herz</p>
            </div>
        </div>
    </header>

    <div class="welcome-message" id="welcomeMessage"></div>
    <div class="logout-container">
        <button id="logoutButton" class="logout-button">Abmelden</button>
    </div>

    <nav>
        <div class="container">
            <ul>
                <li><a href="#start" class="active">Start</a></li>
                <li><a href="#leistungen">Leistungen</a></li>
                <li><a href="#ueber-mich">Über mich</a></li>
                <li><a href="#kontakt">Kontakt</a></li>
            </ul>
        </div>
    </nav>

    <section id="start" class="hero">
    <div class="container">
        <h2>Liebevolle Begleitung für eure Familienreise</h2>
        <p>Von der Schwangerschaft bis ins Kleinkindalter – muckiglück ist an eurer Seite. Wir bieten einfühlsame Beratung und Unterstützung für alle Fragen rund um Familie, Baby und Elternschaft.</p>
        <a href="#kontakt" class="hero-button">Jetzt Kontakt aufnehmen</a>
                <div class="illustration">
            👶🏽 👨‍👩‍👧‍👦 ❤️
        </div>
    </div>
    </section>

    <section id="leistungen" class="services">
    <div class="container">
        <h2>Unsere Leistungen für euch</h2>
        <div class="service-grid">
            <div class="service-item">
                <div class="icon">👨‍👩‍👧‍👦</div>
                <h3>Familienbegleitung</h3>
                <p>Umfassende Unterstützung für Familien in allen Phasen, um Herausforderungen gemeinsam zu meistern und Freude zu stärken.</p>
            </div>
            <div class="service-item">
                <div class="icon">🍼</div>
                <h3>Stillberatung</h3>
                <p>Professionelle Hilfe und Tipps rund ums Stillen, für einen entspannten Start und eine gute Bindung.</p>
            </div>
            <div class="service-item">
                <div class="icon">😴</div>
                <h3>Schlafberatung</h3>
                <p>Sanfte Wege zu mehr Schlaf für Babys, Kleinkinder und die ganze Familie – ohne Tränen und Druck.</p>
            </div>
            <div class="service-item">
                <div class="icon">🍎</div>
                <h3>Beikost-Beratung</h3>
                <p>Sicherer und genussvoller Start in die Welt der festen Nahrung für euer Baby.</p>
            </div>
            <div class="service-item">
                <div class="icon">🥕</div>
                <h3>Ernährungsberatung</h3>
                <p>Individuelle Beratung zur Ernährung von Babys, Kleinkindern, werdenden und frischgebackenen Eltern.</p>
            </div>
        </div>
    </div>
    </section>

    <section id="ueber-mich" class="about">
    <div class="container">
        <h2>Über muckiglück</h2>
        <div class="about-content">
            <p>Hallo, ich bin [Dein Name], die Gründerin von muckiglück. Als erfahrene Familienbegleiterin und zertifizierte Beraterin in den Bereichen Stillen, Schlaf und Ernährung ist es meine Leidenschaft, Familien in dieser besonderen Lebensphase zu unterstützen.</p>
            <p>Ich weiß aus eigener Erfahrung, wie viele Fragen und Unsicherheiten aufkommen können, wenn ein Baby das Licht der Welt erblickt oder die Familie wächst. Mein Ziel ist es, euch einen sicheren Raum zu bieten, in dem ihr euch verstanden und gestärkt fühlt. Ich arbebeite ganzheitlich, individuell und immer mit viel Herz.</p>
            <p>Lasst uns gemeinsam euren Familienalltag leichter und glücklicher gestalten!</p>
        </div>
    </div>
    </section>
    
    <section id="kontakt" class="contact">
        <div class="container">
            <h2>Kontaktiert uns</h2>
            <p>Habt ihr Fragen oder möchtet eine Beratung anfragen? Schreibt uns gerne eine Nachricht!</p>
            <div class="contact-form">
                <form id="contactForm">
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name" required>

                    <label for="email">E-Mail:</label>
                    <input type="email" id="email" name="email" required>

                    <label for="message">Nachricht:</label>
                    <textarea id="message" name="message" rows="6" required></textarea>

                    <button type="submit" id="submitButton">Nachricht senden</button>
                    <div id="formStatus" class="form-status"></div>
                </form>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <p>&copy; 2025 muckiglück. Alle Rechte vorbehalten.</p>
            <p>Eure Begleitung für ein geborgenes Wachstum.</p>
        </div>
    </footer>

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>

    <script>
        // Your Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyAlDyv4LGkYFzDWwVwVTpfyxEmpROz115o",
            authDomain: "muckiglueckauth.firebaseapp.com",
            projectId: "muckiglueckauth",
            storageBucket: "muckiglueckauth.firebasestorage.app",
            messagingSenderId: "550834074850",
            appId: "1:550834074850:web:e83a073d702b1fd9e09abb"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();

        const welcomeMessage = document.getElementById('welcomeMessage');
        const logoutButton = document.getElementById('logoutButton');

        // --- AUTHENTICATION LOGIC ---
        auth.onAuthStateChanged(user => {
            if (user) {
                welcomeMessage.textContent = `Willkommen, ${user.email}!`;
            } else {
                // Only redirect if not already on the login page to prevent infinite redirects
                if (window.location.pathname !== '/login.html' && window.location.pathname !== '/login') {
                     window.location.href = 'login.html';
                }
            }
        });

        logoutButton.addEventListener('click', async () => {
            try {
                await auth.signOut();
                // Redirect to login page after successful logout
                window.location.href = 'login.html';
            } catch (error) {
                console.error("Logout Error:", error);
                alert("Fehler beim Abmelden. Bitte versuchen Sie es erneut.");
            }
        });

        // --- CONTACT FORM LOGIC ---
        const contactForm = document.getElementById('contactForm');
        const formStatus = document.getElementById('formStatus');
        const submitButton = document.getElementById('submitButton');

        contactForm.addEventListener('submit', async (e) => {
            e.preventDefault(); // Stop the form from reloading the page
            
            // Clear previous status messages
            formStatus.textContent = '';
            formStatus.className = 'form-status'; // Reset class

            // Show loading state
            submitButton.disabled = true;
            submitButton.textContent = 'Wird gesendet...';
            
            const formData = {
                name: contactForm.name.value,
                email: contactForm.email.value,
                message: contactForm.message.value,
            };

            try {
                // **IMPORTANT**: Replace 'YOUR_CLOUD_FUNCTION_URL' with your actual deployed Google Cloud Function URL.
                // This function should be set up to receive the form data and send an email (e.g., using Nodemailer).
                const functionUrl = 'YOUR_CLOUD_FUNCTION_URL'; 
                
                // --- MOCK API CALL FOR DEMONSTRATION IF NO CLOUD FUNCTION IS DEPLOYED ---
                // If you don't have a Cloud Function yet, you can uncomment this block
                // to simulate a successful submission for testing the front-end.
                /*
                await new Promise(resolve => setTimeout(resolve, 2000)); // Simulate network delay
                const success = true; // Set to false to test error case
                if (success) {
                    formStatus.textContent = 'Vielen Dank! Ihre Nachricht wurde gesendet. (Simuliert)';
                    formStatus.className = 'form-status success';
                    contactForm.reset();
                } else {
                    throw new Error('Simulierter Fehler beim Senden der Nachricht.');
                }
                */
                // --- END MOCK API CALL ---


                // --- ACTUAL FETCH CALL FOR DEPLOYED CLOUD FUNCTION ---
                // Keep this commented out or replace the mock call if you are actively developing the backend.
                const response = await fetch(functionUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(formData)
                });

                if (response.ok) {
                    formStatus.textContent = 'Vielen Dank! Ihre Nachricht wurde gesendet.';
                    formStatus.className = 'form-status success';
                    contactForm.reset();
                } else {
                    const errorData = await response.json(); // Try to get more detailed error from backend
                    throw new Error(errorData.message || 'Fehler beim Senden der Nachricht.');
                }

            } catch (error) {
                console.error('Form Submission Error:', error);
                formStatus.textContent = `Ein Fehler ist aufgetreten: ${error.message || 'Bitte versuchen Sie es später erneut.'}`;
                formStatus.className = 'form-status error';
            } finally {
                // Restore button
                submitButton.disabled = false;
                submitButton.textContent = 'Nachricht senden';
            }
        });
    </script>
</body>
</html>